<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="styles.css">
  <title>Loan Payment Calculator</title>

  <script language="JavaScript">
    const numberWithCommas = function (x) {
      return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
    }

    const showPay = function () {
      const princ = document.calc.loan.value;
      const term = document.calc.months.value;
      const intr = document.calc.rate.value / 100;

      if (!princ || !term || !intr) {
        document.calc.pay.value = "Incomplete data";
      }
      else {
        const payment = princ * intr / (1 - (Math.pow(1 / (1 + intr), term)));

        document.calc.pay.value = numberWithCommas(Math.ceil(payment));
      }
    }

  </script>
</head>

<p>
  <center>
    <form name=calc method=POST>
      <table width=380em border=0>
        <tr>
          <th bgcolor="#aaaaaa" width=70%>
            <font color=blue>Description</font>
          </th>
          <th bgcolor="#aaaaaa" width=30%>
            <font color=blue></font>
          </th>
        </tr>
        <tr>
          <td bgcolor="#eeeee">Loan Amount</td>
          <td bgcolor="#aaeeaa" align=center><input type=text name=loan size=10></td>
        </tr>
        <tr>
          <td bgcolor="#eeeee">Loan Length in Months</td>
          <td bgcolor="#aaeeaa" align=center><input type=text name=months size=10></td>
        </tr>
        <tr>
          <td bgcolor="#eeeee">Monthly Interest Rate</td>
          <td bgcolor="#aaeeaa" align=center><input type=text name=rate size=10></td>
        </tr>
        <tr>
          <td bgcolor="#eeeee">Monthly Payment</td>
          <td bgcolor="#eeaaaa" align=center><input type=text name=pay size=10></td>
        </tr>
        <tr>
          <td bgcolor="#eeeeaa" align=center><input type=reset value=Reset></td>
          <td bgcolor="#aaeeaa" align=center><input type=button onClick='showPay()' value=Calculate></td>
        </tr>
      </table>
    </form>

  </center>

</html>